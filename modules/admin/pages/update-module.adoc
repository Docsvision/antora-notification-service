= Обновление модуля

[#conditions]
== Условия обновления

* Установка новой версии должна выполняться в нерабочее время.
* Создайте резервную копию БД {dv}.
* База данных {dv} должна быть переведена на работу с расширенными метаданными.
* При обновлении версия клиентского дистрибутива должна быть равной версии серверного дистрибутива.
* Если к новой версии модуля приложена инструкция по обновлению, следуйте ей.
* Если комплект обновления включает обновление для модуля {pl}, перейдите к инструкции, приведенной в xref:5.5.5@platform:admin:update-module.adoc[документации] модуль {pl}. Руководство администратора, пункт "Установка новой версии модуля".

[#update]
== Порядок обновления

.Чтобы установить новую версию модуля:
. Создайте резервную копию БД.
include::system::partial$stop.adoc[]
. Установите новую версию модуля из пакета установки, не удаляя существующей версии.
+
При обновлении используется каталог и область установки текущей версии.
+
include::system::partial$go.adoc[]
+
.Флаг обновления базы данных
image::install-update-db-flag.png[Флаг обновления базы данных]
+
. Выберите базы данных, в которых будут обновлены библиотеки карточек модуля, и нажмите *ОК*.
+
.Список баз данных для обновления
image::install-update-db.png[Список баз данных для обновления]
+
Будет запущен процесс обновления БД. По окончании обновления появится окно с результатом обновления, а также автоматически будут перезапущены сервисы {dv}.
+
. Запустите "{cns}" и завершите настройку {dv} стандартным образом согласно документации модуля {pl} xref:5.5.5@platform:admin:config-master.adoc[здесь] и xref:5.5.5@platform:admin:post-config-server.adoc[здесь].
+
Пользователь, от имени которого запускается "{cns}" должен являться администратором {dv}, а также входить в группы {dv} в Справочнике сотрудников: _{dv-dm-admins-dir}_, _{dv-ad-admins-dir}_ и _{dv-sys-wf-dir}_.
+
. Установите новую версию модуля, не обновляя БД (флаг `*Обновить базу данных*` должен быть снят):
+
* На оставшихся узлах кластера {dv}.
* На сервере СУБП, {wc}а и других модулей, использующих компоненты модуля.
